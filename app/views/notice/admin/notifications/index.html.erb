<%= render 'menu' %>

<div class="ui attached segment">
  <%= render 'search_form' %>
</div>

<table class="ui bottom attached table">
  <thead>
  <tr>
    <th><%= Notification.human_attribute_name(:id) %></th>
    <th>
      <p><%= Notification.human_attribute_name(:receiver_type) %></p>
      <p><%= Notification.human_attribute_name(:receiver_id) %></p>
    </th>
    <th><%= Notification.human_attribute_name(:title) %></th>
    <th><%= Notification.human_attribute_name(:body) %></th>
    <th><%= Notification.human_attribute_name(:link) %></th>
    <th><%= Notification.human_attribute_name(:read_at) %></th>
    <th><%= Notification.human_attribute_name(:send_result) %></th>
    <th>Operation</th>
  </tr>
  </thead>

  <tbody>
  <% @notifications.each do |notification| %>
    <tr>
      <td><%= notification.id %></td>
      <td>
        <p><%= notification.receiver_type %></p>
        <p><%= notification.receiver_id %></p>
      </td>
      <td><%= notification.title %></td>
      <td><%= notification.body %></td>
      <td><%= notification.link %></td>
      <td><%= notification.read_at %></td>
      <td>
        <code><%= notification.sent_result %></code>
      </td>
      <td class="ui labels">
        <%= link_to 'Push', push_admin_notification_path(notification), method: :patch, remote: true, data: { confirm: 'Are you sure?' }, class: 'ui mini green label' %>
        <%= link_to 'Email', email_admin_notification_path(notification), method: :patch, remote: true, data: { confirm: 'Are you sure?' }, class: 'ui mini green label' %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<%= paginate @notifications %>
