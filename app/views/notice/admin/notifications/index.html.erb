<%= render 'menu' %>

<div class="ui attached segment">
  <%= render 'search_form' %>
</div>

<table class="ui bottom attached fixed table">
  <thead>
    <tr>
      <th class="one wide"><%= Notification.human_attribute_name(:id) %></th>
      <th class="two wide">
        <p><%= Notification.human_attribute_name(:receiver_type) %></p>
        <p><%= Notification.human_attribute_name(:receiver_id) %></p>
      </th>
      <th class="four wide">
        <p><%= Notification.human_attribute_name(:title) %></p>
        <p><%= Notification.human_attribute_name(:body) %></p>
        <p><%= Notification.human_attribute_name(:link) %></p>
      </th>
      <th class="two wide">
        <p><%= Notification.human_attribute_name(:notifiable_type) %></p>
        <p><%= Notification.human_attribute_name(:notifiable_id) %></p>
      </th>
      <th class="two wide">
        <p><%= Notification.human_attribute_name(:sender_type) %></p>
        <p><%= Notification.human_attribute_name(:sender_id) %></p>
      </th>
      <th class="two wide">
        <p><%= Notification.human_attribute_name(:created_at) %></p>
        <p><%= Notification.human_attribute_name(:read_at) %></p>
      </th>
      <th class="one wide"><%= Notification.human_attribute_name(:send_result) %></th>
      <th class="two wide">Operation</th>
    </tr>
  </thead>

  <tbody>
  <% @notifications.each do |notification| %>
    <tr>
      <td><%= notification.id %></td>
      <td>
        <p><%= notification.receiver_type %></p>
        <p><%= notification.receiver_id %></p>
      </td>
      <td>
        <p><%= notification.title %></p>
        <p><%= notification.body %></p>
        <p><%= notification.link %></p>
      </td>
      <td>
        <p><%= notification.notifiable_type %></p>
        <p><%= notification.notifiable_id %></p>
      </td>
      <td>
        <p><%= notification.sender_type %></p>
        <p><%= notification.sender_id %></p>
      </td>
      <td>
        <p><time class="grey text"><%= notification.created_at %></time></p>
        <p><time class="green text"><%= notification.read_at %></time></p>
      </td>
      <td>
        <code><%= notification.sent_result %></code>
      </td>
      <td class="ui labels">
        <%= link_to 'Push', push_admin_notification_path(notification), method: :patch, remote: true, data: { confirm: 'Are you sure?' }, class: 'ui mini green label' %>
        <%= link_to 'Email', email_admin_notification_path(notification), method: :patch, remote: true, data: { confirm: 'Are you sure?' }, class: 'ui mini green label' %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<%= paginate @notifications %>
